### MySQL备份

根据备份时数据库的运行状态可分为：

+ 热备份：不影响读写操作
+ 温备份：只可执行读操作，不可写
+ 冷备份：数据库下线，不可读写

MyISAM不支持热备份，InnoDB都支持。

备份的方式分为两种：

+ 物理备份：cp，tar
+ 逻辑备份：使用特定工具导出数据并另存备份，如mysqldump、lvm2、xtrabackup

### MyISAM与InnoDB

+ InnoDB支持事务
+ InnoDB支持外键
+ InnoDB是聚集索引
+ InnoDB不保存表行数
+ InnoDB最小的锁粒度是行锁，MyISAM最小的锁力度是表锁

### 聚集索引与非聚集索引

聚集索引

+ 聚集索引的列排序必须与数据的物理地址顺序一致
+ 建表时默认会创建聚集索引，最好在建表时定义索引，否则会根据索引排序移动数据行的顺序
+ 索引的叶子节点就是数据节点

非聚集索引

+ 叶子节点仍然是索引，索引中包含指向数据文件地址的指针
+ 普通的查询需要进行二次查询才能获取到数据节点
+ 如果查询涉及到索引中不包含的列，需要建立复合索引，才能避免多次查询的问题

### 存储过程

什么是存储过程？

存储过程是一条或多条SQL语句的集合

存储过程的优缺点？

优点

+ 存储过程在创建时进行编译，能提高执行效率
+ 减少网络通信量，多条SQL语句封装在存储过程，只需一次连接便可完成复杂操作
+ 存储过程可复用
+ 可维护性高，业务需求改变时只需改动存储过程
+ 安全性高，存储过程的创建和使用都可以用权限去控制

缺点

+ 开发调试难，没有良好的IDE工具
+ 可移植性差，存储过程封装了业务逻辑会限制应用程序的移植
+ 业务需求涉及数据结构改动，维护系统代价很大